[ { "name": "冻结进程", "description": "冻结开启乖巧模式且不在全局白名单变量中的APP后台进程，全局变量：whiteApps", "priority": -1, "condition": "frontPkgChanged == true && thanos.getActivityManager().isPkgSmartStandByEnabled(from) && !globalVarOf$whiteApps.contains(from)", "actions": [ "su.exe(\"appops set \" +from + \" RUN_ANY_IN_BACKGROUND ignore\");", "su.exe(\"appops set \" +from + \" RUN_IN_BACKGROUND ignore\");", "su.exe(\"appops set \" +from + \" WAKE_LOCK ignore\");", "activity.setInactive(from);", "su.exe(\"am make-uid-idle \" +from);", "su.exe(\"am set-standby-bucket \" +from +\" restricted\");", "do{Thread.sleep(1000)}until(activity.getFrontAppPackage()!=\"android\");", "actor.delayed(1000,\"if(activity.getFrontAppPackage()!=from){su.exe(\\\"kill -STOP `pgrep -f \\\"+ from+ \\\"`\\\")}\");" ] } ]